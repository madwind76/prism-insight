# PRISM-INSIGHT 고도화 제안서

## 1. 개요

PRISM-INSIGHT 프로젝트는 AI를 활용한 주식 분석 및 자동 매매 시스템으로, 현재 성공적으로 운영되고 있습니다. 본 문서는 PRISM-INSIGHT를 한 단계 더 발전시키기 위한 고도화 방안을 제안합니다. 제안 내용은 모듈러 아키텍처 도입, 분석 모듈 확장성 강화, 상호작용 가능한 시각화, 웹 기반 사용자 인터페이스 구축, 데이터베이스 기반 데이터 관리, 비동기 태스크 처리, 설정 관리 시스템 개선, 그리고 테스트 및 CI/CD 파이프라인 구축에 초점을 맞춥니다.

## 2. 고도화 방안

### 2.1. 모듈러 아키텍처

현재의 단일 구조를 데이터 수집, 분석, 리포팅, 매매 등 기능별 모듈로 분리하여 유지보수성과 확장성을 높입니다.

*   **데이터 수집 모듈:** `pykrx` 외 다양한 데이터 소스(API, 웹 스크래핑)를 지원하는 독립적인 모듈로 구성합니다.
*   **분석 모듈:** 기술적 분석, 기본적 분석, 뉴스 분석 등 각각의 분석 기법을 별도의 모듈로 분리하고, 플러그인 형태로 추가할 수 있도록 설계합니다.
*   **리포팅 모듈:** Markdown, PDF, HTML 등 다양한 포맷의 리포트를 생성하는 모듈로 분리합니다.
*   **매매 모듈:** 시뮬레이션 및 실제 매매를 담당하는 모듈로, 다양한 증권사 API를 지원할 수 있도록 인터페이스를 표준화합니다.

### 2.2. 분석 모듈 확장성 강화

플러그인 기반 아키텍처를 도입하여 사용자가 자신만의 분석 기법을 쉽게 추가하고 테스트할 수 있도록 지원합니다.

*   **분석 플러그인 인터페이스 정의:** 모든 분석 모듈이 따라야 할 표준 인터페이스(입력, 출력, 설정 등)를 정의합니다.
*   **플러그인 관리 시스템:** 사용자가 웹 UI를 통해 플러그인을 업로드, 활성화/비활성화, 설정을 변경할 수 있는 기능을 제공합니다.

### 2.3. 상호작용 가능한 시각화

`matplotlib` 기반의 정적 차트를 `Plotly`나 `Bokeh`와 같은 라이브러리로 교체하여 사용자가 차트와 상호작용하며 더 깊이 있는 분석을 할 수 있도록 지원합니다.

*   **동적 차트:** 확대/축소, 특정 구간 선택, 툴팁 등 동적인 기능을 제공합니다.
*   **다양한 차트 유형:** 캔들스틱 차트 외에도 이동평균선, 볼린저 밴드, MACD 등 다양한 기술적 지표를 차트에 추가하고 제거할 수 있는 기능을 제공합니다.

### 2.4. 웹 기반 사용자 인터페이스

Streamlit, Flask, Django 등의 웹 프레임워크를 사용하여 사용자가 웹 브라우저를 통해 시스템과 상호작용할 수 있는 UI를 구축합니다.

*   **대시보드:** 분석 결과, 매매 내역, 보유 종목 현황 등을 시각적으로 보여주는 대시보드를 제공합니다.
*   **종목 분석:** 사용자가 직접 종목을 선택하고 분석 옵션을 설정하여 리포트를 생성할 수 있는 기능을 제공합니다.
*   **백테스팅:** 과거 데이터를 기반으로 자신만의 투자 전략을 테스트하고 성과를 확인할 수 있는 기능을 제공합니다.

### 2.5. 데이터베이스 기반 데이터 관리

파일 기반 데이터 저장을 PostgreSQL, MySQL, MongoDB 등의 데이터베이스 시스템으로 전환하여 데이터의 일관성, 안정성, 확장성을 확보합니다.

*   **데이터 모델링:** 주가 데이터, 재무 데이터, 뉴스 데이터, 분석 결과, 매매 내역 등을 저장하기 위한 데이터 모델을 설계합니다.
*   **ORM(Object-Relational Mapping) 도입:** SQLAlchemy와 같은 ORM을 사용하여 데이터베이스 작업을 추상화하고 생산성을 높입니다.

### 2.6. 비동기 태스크 처리

Celery, RQ와 같은 태스크 큐를 도입하여 시간이 오래 걸리는 분석 작업을 비동기적으로 처리하고 시스템의 응답성과 확장성을 개선합니다.

*   **태스크 분리:** 데이터 수집, 분석, 리포트 생성 등 시간이 오래 걸리는 작업을 별도의 태스크로 분리합니다.
*   **분산 처리:** 여러 워커(worker)를 사용하여 태스크를 병렬로 처리하고 분석 속도를 높입니다.

### 2.7. 설정 관리 시스템 개선

Hydra, Dynaconf와 같은 라이브러리를 도입하여 API 키, 데이터베이스 접속 정보, 분석 파라미터 등 다양한 설정을 체계적으로 관리합니다.

*   **계층적 설정:** 기본 설정, 개발 환경 설정, 운영 환경 설정 등 환경별로 설정을 분리하여 관리합니다.
*   **동적 설정 변경:** 시스템 재시작 없이 동적으로 설정을 변경할 수 있는 기능을 제공합니다.

### 2.8. 테스트 및 CI/CD 파이프라인 구축

Pytest를 사용하여 단위 테스트, 통합 테스트, E2E 테스트를 작성하고, GitHub Actions를 사용하여 코드 변경 시 자동으로 테스트를 실행하고 배포하는 CI/CD 파이프라인을 구축합니다.

*   **테스트 커버리지:** 코드 커버리지를 측정하고, 일정 수준 이상의 커버리지를 유지하도록 강제합니다.
*   **자동 배포:** 테스트를 통과한 코드는 자동으로 운영 환경에 배포되도록 설정합니다.

## 3. 기대 효과

본 고도화 제안을 통해 PRISM-INSIGHT는 다음과 같은 효과를 얻을 수 있습니다.

*   **유지보수성 및 확장성 향상:** 모듈러 아키텍처와 플러그인 기반 분석 모듈을 통해 새로운 기능을 쉽게 추가하고 기존 기능을 수정할 수 있습니다.
*   **사용자 경험 개선:** 상호작용 가능한 시각화와 웹 기반 사용자 인터페이스를 통해 사용자가 더 쉽고 편리하게 시스템을 사용할 수 있습니다.
*   **시스템 안정성 및 성능 향상:** 데이터베이스 기반 데이터 관리와 비동기 태스크 처리를 통해 시스템의 안정성과 성능을 높일 수 있습니다.
*   **개발 생산성 향상:** ORM, 설정 관리 시스템, CI/CD 파이프라인을 통해 개발 생산성을 높일 수 있습니다.
