# PRISM-INSIGHT 고도화 PRD (Product Requirements Document)

## 1. 소개

본 문서는 PRISM-INSIGHT 프로젝트의 성공적인 고도화를 위한 제품 요구사항을 정의합니다. PRISM-INSIGHT는 AI 기반 주식 분석 및 자동 매매 시스템으로, 본 고도화 프로젝트는 시스템의 유지보수성, 확장성, 사용자 경험, 안정성, 그리고 개발 생산성을 향상시키는 것을 목표로 합니다.

## 2. 목표

*   **핵심 아키텍처 개선:** 모듈러 아키텍처를 도입하여 유연하고 확장 가능한 시스템을 구축합니다.
*   **사용자 경험 혁신:** 웹 기반 UI와 상호작용 가능한 시각화를 통해 사용자에게 더 나은 분석 경험을 제공합니다.
*   **시스템 성능 및 안정성 강화:** 데이터베이스 기반 데이터 관리와 비동기 태스크 처리를 통해 대규모 데이터와 트래픽을 안정적으로 처리합니다.
*   **개발 문화 선진화:** 체계적인 설정 관리, 테스트 자동화, CI/CD 파이프라인 구축을 통해 개발 생산성과 코드 품질을 향상시킵니다.

## 3. 사용자 페르소나

*   **개인 투자자:** 주식 시장에 대한 기본적인 지식은 있지만, 전문적인 분석 도구나 시간이 부족한 개인 투자자. 이들은 PRISM-INSIGHT를 통해 투자 아이디어를 얻고, 자신의 투자 전략을 검증하며, 자동 매매를 통해 수익을 창출하고자 합니다.
*   **데이터 분석가/퀀트:** 주식 데이터를 활용하여 자신만의 투자 모델을 개발하고 테스트하고자 하는 데이터 분석가 또는 퀀트. 이들은 PRISM-INSIGHT의 확장 가능한 분석 모듈을 활용하여 자신의 분석 기법을 적용하고, 백테스팅 기능을 통해 모델의 성능을 검증하고자 합니다.
*   **개발자:** PRISM-INSIGHT 프로젝트에 기여하고, 자신의 개발 역량을 향상시키고자 하는 오픈소스 개발자. 이들은 잘 구조화된 모듈러 아키텍처와 CI/CD 파이프라인을 통해 프로젝트에 쉽게 기여하고, 자신의 코드가 안정적으로 시스템에 통합되는 것을 확인하고자 합니다.

## 4. 사용자 스토리

*   **개인 투자자:**
    *   “웹 대시보드를 통해 나의 포트폴리오 현황과 주요 시장 지표를 한눈에 파악하고 싶다.”
    *   “관심 있는 종목을 검색하고, PRISM-INSIGHT가 제공하는 AI 분석 리포트를 확인하여 투자 결정을 내리고 싶다.”
    *   “과거 데이터를 기반으로 나의 투자 전략을 테스트해보고, 예상 수익률과 위험도를 미리 확인하고 싶다.”
*   **데이터 분석가/퀀트:**
    *   “내가 개발한 새로운 기술적 분석 지표를 PRISM-INSIGHT의 분석 모듈에 플러그인 형태로 추가하고 싶다.”
    *   “웹 UI를 통해 내가 추가한 분석 모듈의 파라미터를 조절하며, 다양한 조건에서 분석을 실행하고 싶다.”
    *   “대용량의 주가 데이터를 빠르게 처리하고, 분석 결과를 데이터베이스에 저장하여 나중에 다시 확인하고 싶다.”
*   **개발자:**
    *   “새로운 데이터 소스를 추가하기 위해 데이터 수집 모듈의 코드를 수정하고, 단위 테스트를 통해 나의 변경 사항이 다른 모듈에 영향을 주지 않는 것을 확인하고 싶다.”
    *   “GitHub에 코드를 푸시하면 자동으로 테스트가 실행되고, 테스트를 통과하면 운영 환경에 자동으로 배포되었으면 좋겠다.”

## 5. 기능

### 5.1. 모듈러 아키텍처

*   데이터 수집, 분석, 리포팅, 매매 등 기능별 독립적인 모듈로 구성
*   각 모듈은 API를 통해 서로 통신

### 5.2. 확장 가능한 분석 모듈

*   분석 모듈 플러그인 인터페이스 제공
*   웹 UI를 통한 플러그인 관리 (업로드, 활성화/비활성화, 설정 변경)

### 5.3. 상호작용 가능한 시각화

*   Plotly, Bokeh 기반의 동적 차트 제공 (확대/축소, 툴팁 등)
*   다양한 기술적 지표를 차트에 동적으로 추가/제거

### 5.4. 웹 기반 사용자 인터페이스

*   **대시보드:** 포트폴리오 현황, 시장 지표, 주요 뉴스 등 제공
*   **종목 분석:** 종목 검색, AI 분석 리포트 조회, 분석 옵션 설정
*   **백테스팅:** 투자 전략 설정, 과거 데이터 기반 시뮬레이션, 성과 리포트

### 5.5. 데이터베이스 기반 데이터 관리

*   PostgreSQL 또는 MySQL을 사용하여 주가, 재무, 뉴스, 분석 결과, 매매 내역 등 모든 데이터 저장
*   SQLAlchemy를 사용하여 데이터베이스 작업 추상화

### 5.6. 비동기 태스크 처리

*   Celery를 사용하여 데이터 수집, 분석, 리포트 생성 등 시간이 오래 걸리는 작업을 비동기적으로 처리
*   Redis를 메시지 브로커로 사용

### 5.7. 설정 관리 시스템

*   Hydra를 사용하여 API 키, 데이터베이스 접속 정보, 분석 파라미터 등 관리
*   환경별(개발, 운영) 설정 파일 분리

### 5.8. 테스트 및 CI/CD

*   Pytest 기반 단위 테스트, 통합 테스트, E2E 테스트 작성
*   GitHub Actions를 사용하여 코드 푸시 시 자동 테스트 및 배포 파이프라인 구축

## 6. 비기능적 요구사항

*   **성능:** 웹 UI는 3초 이내에 로드되어야 하며, 종목 분석 리포트는 1분 이내에 생성되어야 합니다.
*   **확장성:** 동시에 100명 이상의 사용자가 시스템을 사용하더라도 안정적으로 서비스를 제공해야 합니다.
*   **보안:** 사용자의 개인정보와 API 키는 안전하게 암호화하여 저장해야 합니다.
*   **가용성:** 시스템은 99.9% 이상의 가용성을 보장해야 합니다.

## 7. 제외 범위

*   **실시간 매매:** 본 고도화 프로젝트에서는 실시간 자동 매매 기능의 대대적인 개선은 제외하고, 시뮬레이션 및 백테스팅 기능 강화에 집중합니다.
*   **모바일 앱 개발:** 네이티브 모바일 앱 개발은 본 프로젝트의 범위에 포함되지 않으며, 웹 UI는 반응형으로 설계하여 모바일 브라우저에서도 사용 가능하도록 합니다.

## 8. 성공 지표

*   **월간 활성 사용자(MAU):** 1,000명 달성
*   **분석 리포트 생성 시간:** 평균 30초 이내
*   **테스트 커버리지:** 80% 이상 달성
*   **오픈소스 기여자:** 10명 이상 확보
